(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(9),r=a.n(c),n=(a(27),a(28),a(0)),i=function(){return Object(n.jsx)("div",{className:"navbar",children:Object(n.jsx)("h1",{children:"Duty-Generator \ud83d\ude0e\ud83c\uddf7\ud83c\uddfc"})})},o=a(6),l=a.n(o),u=a(8),d=a(2),j=a(7),m=a.n(j),h=a(4),b=(a(11),a(3)),p=a.n(b);b.SkeletonTheme;var x=function(){return Object(n.jsx)("section",{className:"bg-gray-100 p-6",children:Object(n.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(n.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(n.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:Object(n.jsx)(p.a,{height:30,width:200})}),Object(n.jsxs)("form",{className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(n.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(n.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:Object(n.jsx)(p.a,{height:30,width:150})})}),Object(n.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200})]})]})]})})})};b.SkeletonTheme;var O=function(){return Object(n.jsx)("section",{className:"bg-gray-100 p-6",children:Object(n.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(n.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(n.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:Object(n.jsx)(p.a,{height:30,width:200})}),Object(n.jsxs)("form",{className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(n.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(n.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:Object(n.jsx)(p.a,{height:30,width:150})})}),Object(n.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200}),Object(n.jsx)(p.a,{height:40,width:200})]})]})]})})})},g=(a(52),a(22)),f=a.n(g);var v=function(e){var t=e.token,a=Object(s.useState)(!1),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(s.useState)(""),j=Object(d.a)(o,2),b=(j[0],j[1]),p=Object(s.useState)(!1),x=Object(d.a)(p,2),O=(x[0],x[1]),g=Object(s.useState)([]),v=Object(d.a)(g,2),w=v[0],N=v[1],S=Object(s.useState)(""),k=Object(d.a)(S,2),C=k[0],D=k[1],H=Object(s.useState)(""),T=Object(d.a)(H,2),B=(T[0],T[1]),P=Object(s.useState)(""),L=Object(d.a)(P,2),A=L[0],Y=L[1],z=Object(s.useState)(""),E=Object(d.a)(z,2),U=E[0],I=E[1],M=Object(s.useState)(""),R=Object(d.a)(M,2),F=R[0],q=R[1],G=Object(s.useState)(""),J=Object(d.a)(G,2),V=(J[0],J[1],Object(s.useState)(!1)),K=Object(d.a)(V,2),Q=K[0],W=K[1],X=Object(s.useState)(""),Z=Object(d.a)(X,2),$=Z[0],_=Z[1],ee=Object(s.useState)(0),te=Object(d.a)(ee,2),ae=te[0],se=te[1],ce=Object(s.useState)(!1),re=Object(d.a)(ce,2),ne=(re[0],re[1]),ie=Object(s.useState)(!1),oe=Object(d.a)(ie,2),le=(oe[0],oe[1]),ue=function(){var e=Object(u.a)(l.a.mark((function e(a,s,c){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m.a.create({baseURL:"https://dutygenerator.herokuapp.com/api/v1/duties",timeout:5e3,headers:{Authorization:t,"Content-Type":"application/json"}}),s.length<6&&h.b.error("title too short(6 digits min)",{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),c.length<50&&h.b.error("Description too short(100 words min)",{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),c.length>=50&&s.length>=6&&r.post("https://dutygenerator.herokuapp.com/api/v1/duties",{title:s,description:c,priority:a},{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return h.b.dark("added ".concat(e.data.duty.title," successfully"),{position:"top-right",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),N(w.concat(e.data.duty)),b(e.data.message),O(!1),ne(!0),I(""),Y(""),e})).catch((function(){h.b.error("some problems occurred",{position:"top-right",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),O(!0),ne(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){m.a.create({baseURL:"https://dutygenerator.herokuapp.com/api/v1/duties",timeout:1e4,headers:{Authorization:t,"Content-Type":"application/json"}}).get("https://dutygenerator.herokuapp.com/api/v1/duties",{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){var t=e.data.userDuties[0].duties;return b(e.data.message),D(e.data.userDuties[0].name),O(!1),ne(!0),N(t),h.b.dark("you have ".concat(Object.entries(e.data.userDuties[0].duties).length," Duties"),{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e})).catch((function(){O(!0),ne(!1)}))}),[]),!0===Q&&ae&&h.b.dark("".concat($),{position:"top-left",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var de=Object.entries(w);return Object(n.jsxs)("div",{children:[!0===r&&Object(n.jsx)(y,{}),!0!==r&&""!==t&&null!==t&&Object(n.jsxs)(n.Fragment,{children:[w.length>0?Object(n.jsx)("div",{className:"book-list",children:Object(n.jsx)("ul",{children:de.map((function(e){return Object(n.jsxs)("li",{className:"flex flex-row justify-between sm:flex-col sm:p-3 sm:m-3",children:[Object(n.jsx)("div",{className:"text-sm sm:p-1 sm:m-1 hover:text-red-400",onClick:function(){W(!0),se(e[1].id),B(e[1].title),_(e[1].description)},children:e[1].title}),Object(n.jsx)("div",{className:"text-sm sm:p-1 sm:m-1",children:e[1].priority}),Object(n.jsx)("div",{className:"text-sm sm:p-1 sm:m-1",children:f()(e[1].createdAt).utc().format("YYYY-MM-DD")}),Object(n.jsx)("ul",{children:Object(n.jsx)("div",{onClick:function(){W(!1),m.a.create({baseURL:"https://dutygenerator.herokuapp.com/api/v1/duties",timeout:5e3,headers:{Authorization:t,"Content-Type":"application/json"}}).delete("https://dutygenerator.herokuapp.com/api/v1/duties/".concat(e[1].id),{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){h.b.dark("deleted Duty",{position:"top-right",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),w.length<=1&&N([]);var t=w?w.filter((function(e){return e.id!==w[1].id})):[];return N(t),b(e.data.message),O(!1),ne(!0),e})).catch((function(){O(!0),ne(!1)}))},className:"w-6 h-6 text-sm text-white bg-primary-200 shadow-md justify-center pl-2 hover:bg-red-500 sm:m-1",children:"x"})})]},e[1].id)}))})}):Object(n.jsxs)("div",{className:"empty text-gray-800",children:["No Duties available for you"," "," ",C," ","\ud83d\ude43 you are free \ud83d\ude03"," "]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),le(!0),ue(F,A,U)},children:[Object(n.jsx)("input",{type:"text",name:"title",placeholder:"duty Title",value:A,onChange:function(e){W(!1),Y(e.target.value)},className:"bg-white focus:bg-white border-white shadow-lg ",required:!0}),Object(n.jsx)("textarea",{rows:"5",cols:"80",type:"text",name:"description",placeholder:"Duty Description",value:U,onChange:function(e){W(!1),I(e.target.value)},className:"bg-white focus:bg-white border-white shadow-lg ",required:!0}),Object(n.jsx)("p",{className:"ml-3 text-xs text-gray-600",children:"Hint: 50 minimum characters"}),Object(n.jsxs)("select",{value:F,onChange:function(e){W(!1),q(e.target.value)},className:"bg-white focus:bg-gray-200 border-gray shadow-lg text-gray-500 rounded-sm",children:[Object(n.jsx)("option",{children:"Select Priority"}),Object(n.jsx)("option",{value:"Low",children:"Low"}),Object(n.jsx)("option",{value:"Medium",children:"Medium"}),Object(n.jsx)("option",{value:"High",children:"High"})]}),Object(n.jsx)("input",{type:"submit",className:"hover:bg-gray-600",value:"add Duty"})]}),Object(n.jsx)("button",{onClick:function(){i(!0),W(!1)},className:"w-full sm:w-full border-primary-100 bg-primary-100 hover:bg-gray-700 content-center center shadow-md h-10 text-white",children:"Logout"})]}),Object(n.jsx)(h.a,{})]})},y=function(e){var t=Object(s.useState)(""),a=Object(d.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],p=Object(s.useState)(!1),x=Object(d.a)(p,2),g=x[0],f=x[1],y=Object(s.useState)(!1),N=Object(d.a)(y,2),S=N[0],k=N[1],C=Object(s.useState)(""),D=Object(d.a)(C,2),H=D[0],T=D[1],B=Object(s.useState)(""),P=Object(d.a)(B,2),L=(P[0],P[1]),A=Object(s.useState)(!1),Y=Object(d.a)(A,2),z=Y[0],E=Y[1],U=Object(s.useState)(!1),I=Object(d.a)(U,2),M=(I[0],I[1]),R=Object(s.useState)(!1),F=Object(d.a)(R,2),q=(F[0],F[1]),G=Object(s.useState)(!1),J=Object(d.a)(G,2),V=J[0],K=J[1];Object(s.useEffect)((function(){K(!0);var e=setTimeout((function(){K(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var Q=m.a.create({baseURL:"https://dutygenerator.herokuapp.com/api/v1/duties",timeout:5e3,headers:{Authorization:H,"Content-Type":"application/json"}}),W=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.post("https://dutygenerator.herokuapp.com/api/v1/login",{email:t,password:a}).then((function(e){return T(e.data.token),L(e.data.message),E(!1),k(!0),localStorage.setItem("token",H),e})).catch((function(){h.b.error("Email is not recognised",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(!0),M(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[V&&!1===z&&Object(n.jsx)(O,{}),!V&&!g&&!S&&""===H&&Object(n.jsxs)("section",{className:"bg-gray-100 p-6",children:[Object(n.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(n.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(n.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:"LOGIN"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),q(!0),c&&(h.b.dark("Email is being Verified",{position:"top-right",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),W(c,j))},className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(n.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(n.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:"Account created - Log in"})}),Object(n.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Your email",value:c,onChange:function(e){r(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:j,onChange:function(e){b(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(n.jsx)("button",{type:"submit",value:"Submit",name:"submit",className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"Login"}),Object(n.jsx)("h6",{className:"text-primary-100 text-xs mb-2",children:"or"}),Object(n.jsx)("button",{onClick:function(e){f(!0)},className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"SignUp"})]})]})]})}),Object(n.jsx)(h.a,{})]}),!0===g&&Object(n.jsx)(w,{}),S&&Object(n.jsx)(v,{token:H})]})},w=function(e){var t=Object(s.useState)(""),a=Object(d.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],p=Object(s.useState)(""),O=Object(d.a)(p,2),g=O[0],f=O[1],v=Object(s.useState)(!1),w=Object(d.a)(v,2),N=w[0],S=w[1],k=Object(s.useState)(""),C=Object(d.a)(k,2),D=(C[0],C[1]),H=Object(s.useState)(""),T=Object(d.a)(H,2),B=T[0],P=T[1],L=Object(s.useState)(!1),A=Object(d.a)(L,2),Y=A[0],z=A[1],E=Object(s.useState)(!1),U=Object(d.a)(E,2),I=(U[0],U[1],Object(s.useState)(!1)),M=Object(d.a)(I,2),R=M[0],F=M[1],q=Object(s.useState)(!1),G=Object(d.a)(q,2),J=G[0],V=G[1],K=Object(s.useState)(!1),Q=Object(d.a)(K,2),W=Q[0],X=Q[1];Object(s.useEffect)((function(){X(!0);var e=setTimeout((function(){X(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var Z=function(){var e=Object(u.a)(l.a.mark((function e(t,a,s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.length<6&&h.b.error("minimum password lenth is 6 digits",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),m.a.post("https://dutygenerator.herokuapp.com/api/v1/signUp",{name:t,email:a,password:s}).then((function(e){return h.b.dark("Created account, now login",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),D(e.data.token),P(e.data.message),z(!1),F(!0),e})).catch((function(){z(!0),F(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[W&&Object(n.jsx)(x,{}),!W&&!R&&!N&&Object(n.jsxs)("section",{className:"bg-gray-100 p-6",children:[Object(n.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(n.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(n.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:"Sign-Up"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),V(!0),c&&Z(j,c,g)},className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(n.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(n.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:"Enter your Info"})}),Object(n.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[c&&g&&!0===J&&!0!==Y&&B&&Object(n.jsx)("h6",{className:"text-primary-100 text-xs mb-2",children:B}),Object(n.jsx)("input",{type:"text",name:"names",placeholder:"Your name",value:j,onChange:function(e){b(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Your email",value:c,onChange:function(e){r(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:g,onChange:function(e){f(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(n.jsx)("button",{type:"submit",value:"Submit",name:"submit",className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"Sign-up"}),Object(n.jsx)("h6",{className:"text-primary-100 text-xs mb-2",children:"or"}),Object(n.jsx)("button",{onClick:function(e){S(!0)},className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"Login"})]})]})]})}),Object(n.jsx)(h.a,{})]}),!0===R&&Object(n.jsx)(y,{}),!0===N&&Object(n.jsx)(y,{})]})};var N=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(i,{}),Object(n.jsx)(w,{})]})};r.a.render(Object(n.jsx)(N,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.b97a7fe6.chunk.js.map